# 이미지 원 추출


```c++
void example_test() {
	//Mat img = imread("circles.png", 0);
	Mat img = imread("example.JPG");   // 신호등이 포함된 이미지
	//Mat img = imread("red.JPG");   // red 이미지

	//Mat img = imread("traffic.JPG");
	//Mat img = imread("example_small.JPG"); // 해상도를 낮춘 example과 동일한 이미지


	// example.JPG에서 신호등에 해당하는 부분 추출, parm2 55
	Mat img_roi_1, img_roi_2;
	img_roi_2 = img(Rect(Point(190, 286), Point(500, 873)));
	img = img_roi_2;

	Mat hsv;
	cvtColor(img_roi_2, hsv, COLOR_RGB2HSV);
	//cvtColor(img, hsv, COLOR_RGB2HSV);
	imshow("hsv", hsv);
	medianBlur(img, img, 5);

	Mat img_houghC;
	img.copyTo(img_houghC);

	imshow("img_houghC2", img_houghC);
	cvtColor(img, img_houghC, COLOR_RGB2GRAY);
	//img.copyTo(img_houghC);

	vector<Vec3f> circles;
	HoughCircles(img_houghC, circles, HOUGH_GRADIENT, 1, 20, 50, 55, 0, 0);//(입력이미지, 출력이미지, method ,dp , 원중심간 거리, parm1,parm2 ,원최대크기, 원최소크기)


	for (size_t i = 0; i < circles.size(); i++)
	{
		Vec3i c = circles[i];
		Point center(c[0], c[1]);
		int radius = c[2];

		circle(img_houghC, center, radius, Scalar(0, 255, 0), 2); // 원 테두리
		circle(img_houghC, center, 2, Scalar(0, 0, 255), 3);      // 원 중심점
	}

	//==============================================색상검출
	//cvtColor(img, img_hsv, COLOR_BGR2HSV);

	//Mat yellow_mask, yellow_image;

	//Scalar lower_yellow = Scalar(20, 20, 100);
	//Scalar upper_yellow = Scalar(32, 255, 255);

	//inRange(img_hsv, lower_yellow, upper_yellow, yellow_mask);
	//bitwise_and(img, img, yellow_image, yellow_mask);

	//imshow("img", img);
	//imshow("yellow_image", yellow_image);
	//imshow("yellow_mask", yellow_mask);
	//========================================================================



	imshow("img_houghC", img_houghC);
	waitKey(0);
}
```